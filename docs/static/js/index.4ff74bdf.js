(function(e){function t(t){for(var r,c,s=t[0],o=t[1],l=t[2],v=0,f=[];v<s.length;v++)c=s[v],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&f.push(n[c][0]),n[c]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);u&&u(t);while(f.length)f.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],r=!0,s=1;s<i.length;s++){var o=i[s];0!==n[o]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=i[0]))}return e}var r={},n={index:0},a=[];function c(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.m=e,c.c=r,c.d=function(e,t,i){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(i,r,function(t){return e[t]}.bind(null,r));return i},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=o;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("7120")},"199c":function(e,t,i){},7120:function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d"),i("b0c0");var r=i("a026"),n=i("45cf"),a=i("5997"),c=i("78e0"),s=(i("199c"),i("ed09")),o=i("bb3a"),l=i("2474"),u=i("7ef2"),v=i("f35c");r["default"].use(s["b"]);var f={template:'\n    <div>\n  \n    <textarea style="width:100%;height: 300px;" v-model="before"></textarea>\n\n    <div v-html="after"></div>\n   \n    </div>\n    \n  ',setup:function(){var e='# abbr测试 @abbr(HTML, 121212)\n\n- 简单示例\n\nA lovely language know as @abbr(HTML, "HyperText Markup Language")\n    \n- 复杂示例\n\nA lovely language know as @abbr[namespace](HTML){\ntitle: "HyperText Markup Language的缩写"\n, name:12\n, attr: attrxxxxx\n.bg-blue\n.red\n#id_html\n}\n\n原始文字 @nice\n',t=Object(s["c"])(e),i=Object(s["a"])((function(){var e=Object(l["a"])(t.value,{extensions:[Object(a["a"])()],mdastExtensions:[v["a"]]});return Object(o["c"])(e,"textDirective",(function(e,t){if(t&&t.length>1&&"nice"==e.name&&(!e.args||0===e.args.length)){console.log("父节点"),console.log(t);var i=t[t.length-1];if(i.children&&i.children.length>0)for(var r in i.children){var n=i.children[r];if(r=parseInt(r),"textDirective"===n.type&&"nice"===n.name&&(!n.args||0===n.args.length)){var a=i.children[r+1],c=i.children[r-1];a&&"text"===a.type?(c.value="替换后的文字",e.args=[a.value]):c&&"text"===c.type&&(console.log("前节点"),console.log(c),e.args=[c.value],c.value="替换后的文字")}}}})),e})),r=Object(s["a"])((function(){return console.log("树"),console.log(i.value),Object(u["a"])(i.value,{extensions:[v["b"]]})})),f=Object(s["a"])((function(){return Object(n["a"])(r.value,{extensions:[Object(a["a"])()],htmlExtensions:[Object(c["a"])({abbr:h})]})}));function h(e){if("textDirective"!==e.type)return!1;this.tag("<abbr"),e.attributes&&("id"in e.attributes&&this.tag(' id="'+this.encode(e.attributes.id)+'"'),"class"in e.attributes&&this.tag(' class="'+this.encode(e.attributes.class)+'"')),e.attributes&&"title"in e.attributes?this.tag(' title="'+this.encode(e.attributes.title)+'"'):this.tag(' title="'+this.encode(e.args&&e.args.length>1?e.args[1]:"")+'"'),this.tag(">"),this.raw(e.args&&e.args.length>0?e.args[0]:""),this.tag("</abbr>")}return{before:t,after:f}}};r["default"].config.productionTip=!1,new r["default"]({el:"#app",render:function(e){return e(f)}})},f35c:function(e,t,i){"use strict";i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return v}));i("b0c0"),i("a15b"),i("ac1f"),i("00b4"),i("1276"),i("38cf");var r=i("2d37"),n=i("e862"),a=i("bb3a"),c=i("afc9"),s=i("e53b"),o={}.hasOwnProperty,l=/^\(^\t\n\r "#'.<=>`}]+$/;w.peek=C;var u={canContainEols:["textDirective"],enter:{directiveContainer:f,directiveContainerAttributes:A,directiveContainerArgs:x,directiveLeaf:h,directiveLeafAttributes:A,directiveText:d,directiveTextAttributes:A,directiveTextNamespace:N,directiveTextArgs:S},exit:{directiveContainer:T,directiveContainerAttributeClassValue:y,directiveContainerAttributeIdValue:m,directiveContainerAttributeName:j,directiveContainerAttributeValue:D,directiveContainerAttributes:O,directiveContainerArgValueData:b,directiveContainerArgs:V,directiveContainerName:p,directiveContainerNamespace:M,directiveLeaf:T,directiveLeafAttributeClassValue:y,directiveLeafAttributeIdValue:m,directiveLeafAttributeName:j,directiveLeafAttributeValue:D,directiveLeafAttributes:O,directiveLeafArgValueData:b,directiveLeafArgs:V,directiveLeafName:p,directiveLeafNamespace:M,directiveText:T,directiveTextAttributeClassValue:y,directiveTextAttributeIdValue:m,directiveTextAttributeName:j,directiveTextAttributeValue:D,directiveTextAttributes:O,directiveTextArgValueData:b,directiveTextArgs:V,directiveTextName:p,directiveTextNamespace:M}},v={unsafe:[{character:"\r",inConstruct:["leafDirectiveArgs","containerDirectiveArgs"]},{character:"\n",inConstruct:["leafDirectiveArgs","containerDirectiveArgs"]},{before:"[^@]",character:"@",after:"[A-Za-z]",inConstruct:["phrasing"]},{atBreak:!0,character:"@",after:"@"}],handlers:{containerDirective:w,leafDirective:w,textDirective:w}};function f(e){g.call(this,"containerDirective",e)}function h(e){g.call(this,"leafDirective",e)}function d(e){g.call(this,"textDirective",e)}function g(e,t){this.enter({type:e,name:"",namespace:"",attributes:{},args:[],children:[]},t)}function b(e){var t=this.getData("directiveArgs");console.log("==="),console.log(e),t.push(this.sliceSerialize(e))}function p(e){var t=this.stack[this.stack.length-1];t.name=this.sliceSerialize(e)}function x(e){console.log(e),this.enter({type:"paragraph",data:{directiveArgs:!0},children:[]},e)}function A(){this.setData("directiveAttributes",[]),this.buffer()}function m(e){var t=this.getData("directiveAttributes");t.push(["id",Object(r["a"])(this.sliceSerialize(e))])}function y(e){var t=this.getData("directiveAttributes");t.push(["class",Object(r["a"])(this.sliceSerialize(e))])}function D(e){var t=this.getData("directiveAttributes");t[t.length-1][1]=Object(r["a"])(this.sliceSerialize(e))}function j(e){var t=this.getData("directiveAttributes");t.push([this.sliceSerialize(e),""])}function O(){var e=this.getData("directiveAttributes"),t={},i=-1;while(++i<e.length){var r=e[i];"class"===r[0]&&t.class?t.class+=" "+r[1]:t[r[0]]=r[1]}this.setData("directiveAttributes"),this.resume();var n=this.stack[this.stack.length-1];n.attributes=t}function T(e){this.exit(e)}function w(e,t,i,r){var n=Object(s["a"])(r),a=P(e),c=i.enter(e.type),o=n.move(a+(e.name||"")),l=e;if("containerDirective"===e.type){var u=(e.children||[])[0];l=L(u)?u:void 0}if(l&&l.args&&l.args.length>0){var v=i.enter("args"),f=i.enter(e.type+"Args");console.log("进入"),o+=n.move("("),o+=n.move("'"+l.args.join("','")+"'"),o+=n.move(")"),f(),v()}return o+=n.move(k(e,i)),c(),console.log(o),o}function C(){return"@"}function k(e,t){var i,r,a,s,u=Object(c["a"])(t),v="textDirective"===e.type?[u]:[u,"\n","\r"],f=e.attributes||{},h=[];for(s in f)if(o.call(f,s)&&void 0!==f[s]&&null!==f[s]){var d=String(f[s]);if("id"===s)a=l.test(d)?"#"+d:A("id",d);else if("class"===s){var g=d.split(/[\t\n\r ]+/g),b=[],p=[],x=-1;while(++x<g.length)(l.test(g[x])?p:b).push(g[x]);i=b.length>0?A("class",b.join(" ")):"",r=p.length>0?"."+p.join("."):""}else h.push(A(s,d))}return i&&h.unshift(i),r&&h.unshift(r),a&&h.unshift(a),h.length>0?"{"+h.join(" ")+"}":"";function A(e,t){return e+(t?"="+u+Object(n["b"])(t,{subset:v})+u:"")}}function L(e){return console.log("参数指令"),console.log(e),Boolean(e&&"paragraph"===e.type&&e.data&&e.data.directiveArgs)}function S(){this.buffer(),this.setData("directiveArgs",[])}function V(){var e,t=this.getData("directiveArgs"),i=[],r=-1;console.log("==>"),console.log(t);while(++r<t.length)e=t[r],i.push(e);this.resume(),this.setData("directiveArgs"),this.stack[this.stack.length-1].args=i}function N(){this.buffer()}function M(){var e=this.resume();console.log(this.stack[this.stack.length-1]),this.stack[this.stack.length-1].namespace=e}function P(e){var t=0;return"containerDirective"===e.type?(Object(a["c"])(e,"containerDirective",i),t+=3):t="leafDirective"===e.type?2:1,"@".repeat(t);function i(e,i){var r=i.length,n=0;while(r--)"containerDirective"===i[r].type&&n++;n>t&&(t=n)}}}});